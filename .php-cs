<?php

/**
 * URL: https://cs.symfony.com/doc/rules/
 */

$header = <<<'EOF'
        This file is part of PHP CS Fixer.
        (c) Fabien Potencier <fabien@symfony.com>
            Dariusz RumiÅ„ski <dariusz.ruminski@gmail.com>
        This source file is subject to the MIT license that is bundled
        with this source code in the file LICENSE.
    EOF;

$finder = PhpCsFixer\Finder::create()
    ->exclude([
        __DIR__ . '/vendor/',
    ])
    ->notName(['template.php', '404.php'])
    ->in([
        // in src/ directory
        __DIR__ . '/src/',
        __DIR__ . '/tests/',
        __DIR__ . '/classes/',
         __DIR__ . '/public/',
    ])
    ->append([
        __FILE__,
    ]);

$config = new PhpCsFixer\Config();
$config
    // Specify min/max cores and max time running
    ->setParallelConfig(new PhpCsFixer\Runner\Parallel\ParallelConfig(6, 8, 300))
    ->setRiskyAllowed(true)
    ->setCacheFile(__DIR__ . '/tmp/.php-cs-fixer.cache')
    ->setRules(
        [
            '@PSR12' => true,
            '@PHP82Migration' => true,
        ]
    )
    ->setLineEnding(PHP_EOL)
    ->setFinder($finder);

return $config;
